[2026-02-24T01:18:37] Logging to: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/run_trajopt_demo_output.log
======================================================================
IPOPT TRAJECTORY OPTIMIZATION DEMO (SINGLE STAGE)
======================================================================

1. Loading track: maps/MAP1.mat
   Track length: 300.0 m

2. Creating vehicle model...
   Vehicle: SingleTrackModel(VW_Golf_GTI, weight_transfer=enabled)

3. Loaded obstacles from map: 0

4. Setup:
   N = 120
   ds = 2.50 m
   Obstacle subsamples/segment = 7
   Track buffer = 0.00 m

======================================================================
SINGLE STAGE: COMBINED OBJECTIVE (ACCEPTANCE-GATED)
======================================================================
Acceptance gates: success=True, max_slack<=0.000e+00, min_clearance>=-0.0010 m
Acceptance policy: practical epsilon mode (allows tiny negative dense clearance).
Initializer: obstacle_aware_init=True, sigma=8.00 m, margin=0.30 m

Attempt 1/4: baseline
  N=120, ds=2.500 m, subsamples=7, obstacle_clearance_m=0.000

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit https://github.com/coin-or/Ipopt
******************************************************************************

This is Ipopt version 3.14.11, running with linear solver MUMPS 5.4.1.

Number of nonzeros in equality constraint Jacobian...:    13219
Number of nonzeros in inequality constraint Jacobian.:     1089
Number of nonzeros in Lagrangian Hessian.............:     6280

Total number of variables............................:     1210
                     variables with only lower bounds:        0
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:      970
Total number of inequality constraints...............:     1089
        inequality constraints with only lower bounds:      605
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:      484

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  3.0000000e+01 3.79e-01 6.47e-01  -1.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  3.0433818e+01 4.37e+00 9.41e+00  -1.0 7.22e+00    -  6.83e-01 1.00e+00f  1
   2  3.1376744e+01 4.49e+00 1.94e+00  -1.0 4.38e+00    -  9.30e-01 1.00e+00h  1
   3  3.3001716e+01 5.35e-01 1.66e+00  -1.0 2.36e+00    -  1.00e+00 1.00e+00h  1
   4  3.2896684e+01 4.92e-02 1.96e-01  -1.0 5.47e-01    -  1.00e+00 1.00e+00h  1
   5  3.2615358e+01 3.53e-01 5.97e-01  -2.5 1.02e+00    -  9.17e-01 1.00e+00h  1
   6  3.2470306e+01 5.88e-02 6.85e-02  -2.5 5.97e-01    -  1.00e+00 1.00e+00h  1
   7  3.2455759e+01 8.96e-03 1.37e-02  -2.5 3.21e-01    -  1.00e+00 1.00e+00h  1
   8  3.2450277e+01 4.21e-03 5.91e-03  -3.8 2.85e-01    -  1.00e+00 1.00e+00h  1
   9  3.2449099e+01 1.16e-03 1.73e-03  -3.8 1.13e-01    -  1.00e+00 1.00e+00h  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  3.2449002e+01 9.21e-07 2.09e-06  -3.8 3.21e-03    -  1.00e+00 1.00e+00h  1
  11  3.2448974e+01 6.36e-05 8.93e-05  -5.7 3.07e-02    -  1.00e+00 1.00e+00h  1
  12  3.2448967e+01 7.04e-08 1.17e-07  -5.7 8.88e-04    -  1.00e+00 1.00e+00h  1
  13  3.2448967e+01 1.01e-08 1.42e-08  -7.0 3.84e-04    -  1.00e+00 1.00e+00h  1

Number of Iterations....: 13

                                   (scaled)                 (unscaled)
Objective...............:   3.2448967386610022e+01    3.2448967386610022e+01
Dual infeasibility......:   1.4158987760026776e-08    1.4158987760026776e-08
Constraint violation....:   1.0084174384417111e-08    1.0084174384417111e-08
Variable bound violation:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   9.1222131236678178e-08    9.1222131236678178e-08
Overall NLP error.......:   9.1222131236678178e-08    9.1222131236678178e-08


Number of objective function evaluations             = 14
Number of objective gradient evaluations             = 14
Number of equality constraint evaluations            = 14
Number of inequality constraint evaluations          = 14
Number of equality constraint Jacobian evaluations   = 14
Number of inequality constraint Jacobian evaluations = 14
Number of Lagrangian Hessian evaluations             = 13
Total seconds in IPOPT                               = 2.255

EXIT: Optimal Solution Found.
      solver  :   t_proc      (avg)   t_wall      (avg)    n_eval
       nlp_f  |   3.44ms (246.00us)   3.46ms (246.84us)        14
       nlp_g  |  60.06ms (  4.29ms)  60.37ms (  4.31ms)        14
  nlp_grad_f  |   7.46ms (497.27us)   7.53ms (501.68us)        15
  nlp_hess_l  |   1.59 s (122.26ms)   1.60 s (123.05ms)        13
   nlp_jac_g  | 434.74ms ( 28.98ms) 437.33ms ( 29.16ms)        15
       total  |   2.24 s (  2.24 s)   2.26 s (  2.26 s)         1
  Success: True
  Cost: 32.4490
  Iterations: 13
  Solve time: 12.19 s
  Max obstacle slack: 0.0000e+00
  Min obstacle clearance: inf m
  Accepted: True

Accepted attempt: baseline

Generating plots...
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_trajectory.png
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_states.png
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_controls.png

Generating animation...
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_animation.gif

======================================================================
SUMMARY
======================================================================
Selected attempt: baseline
Attempt                    N      Subs   Clear    Iters    Time [s]   Cost [s]   Max Sigma    Min Clear [m]  Accepted
-----------------------------------------------------------------------------------------------------------------------------
baseline                   120    7      0.000    13       12.19      32.4490    0.000e+00    inf            True

All outputs saved to: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization
