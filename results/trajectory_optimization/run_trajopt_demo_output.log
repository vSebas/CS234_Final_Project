[2026-02-24T00:10:11] Logging to: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/run_trajopt_demo_output.log
======================================================================
IPOPT TRAJECTORY OPTIMIZATION DEMO (SINGLE STAGE)
======================================================================

1. Loading track: maps/Curvy_Chicane_280m.mat
   Track length: 280.0 m

2. Creating vehicle model...
   Vehicle: SingleTrackModel(VW_Golf_GTI, weight_transfer=enabled)

3. Loaded obstacles from map: 0

4. Setup:
   N = 120
   ds = 2.33 m
   Obstacle subsamples/segment = 7
   Track buffer = 0.00 m

======================================================================
SINGLE STAGE: COMBINED OBJECTIVE (ACCEPTANCE-GATED)
======================================================================
Acceptance gates: success=True, max_slack<=0.000e+00, min_clearance>=-0.0010 m
Acceptance policy: practical epsilon mode (allows tiny negative dense clearance).
Initializer: obstacle_aware_init=True, sigma=8.00 m, margin=0.30 m

Attempt 1/4: baseline
  N=120, ds=2.333 m, subsamples=7, obstacle_clearance_m=0.000

******************************************************************************
This program contains Ipopt, a library for large-scale nonlinear optimization.
 Ipopt is released as open source code under the Eclipse Public License (EPL).
         For more information visit https://github.com/coin-or/Ipopt
******************************************************************************

This is Ipopt version 3.14.11, running with linear solver MUMPS 5.4.1.

Number of nonzeros in equality constraint Jacobian...:    13219
Number of nonzeros in inequality constraint Jacobian.:     1089
Number of nonzeros in Lagrangian Hessian.............:     6280

Total number of variables............................:     1210
                     variables with only lower bounds:        0
                variables with lower and upper bounds:        0
                     variables with only upper bounds:        0
Total number of equality constraints.................:      970
Total number of inequality constraints...............:     1089
        inequality constraints with only lower bounds:      605
   inequality constraints with lower and upper bounds:        0
        inequality constraints with only upper bounds:      484

iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
   0  2.7999363e+01 3.31e-01 6.37e-01  -1.0 0.00e+00    -  0.00e+00 0.00e+00   0
   1  2.8254810e+01 2.91e+00 7.05e+00  -1.0 6.26e+00    -  7.82e-01 1.00e+00h  1
   2  2.6787376e+01 2.92e+00 2.08e+00  -1.0 2.47e+00    -  8.58e-01 1.00e+00h  1
   3  2.7102593e+01 2.65e+00 1.86e+00  -1.0 2.96e+00    -  1.00e+00 5.00e-01h  2
   4  2.7944283e+01 4.77e+00 8.66e+00  -1.0 1.82e+00    -  1.00e+00 1.00e+00h  1
   5  2.7825950e+01 1.59e+00 2.48e+00  -1.0 6.25e-01    -  1.00e+00 1.00e+00h  1
   6  2.7877820e+01 4.38e-01 5.61e-01  -1.0 2.24e-01    -  1.00e+00 1.00e+00h  1
   7  2.7743843e+01 7.52e-02 1.32e-01  -1.7 3.83e-01    -  1.00e+00 1.00e+00h  1
   8  2.7590265e+01 6.87e-02 1.40e-01  -2.5 8.45e-01    -  9.89e-01 1.00e+00h  1
   9  2.7484865e+01 9.30e-02 1.71e-01  -2.5 1.04e+00    -  1.00e+00 1.00e+00h  1
iter    objective    inf_pr   inf_du lg(mu)  ||d||  lg(rg) alpha_du alpha_pr  ls
  10  2.7479232e+01 3.56e-04 1.51e-03  -2.5 4.18e-02    -  1.00e+00 1.00e+00h  1
  11  2.7460679e+01 2.16e-02 4.07e-02  -3.8 4.97e-01    -  9.76e-01 1.00e+00h  1
  12  2.7458631e+01 1.78e-03 2.67e-03  -3.8 1.67e-01    -  1.00e+00 1.00e+00h  1
  13  2.7458697e+01 2.47e-06 4.17e-06  -3.8 8.10e-03    -  1.00e+00 1.00e+00h  1
  14  2.7458575e+01 2.16e-04 3.60e-04  -5.7 5.27e-02    -  1.00e+00 1.00e+00h  1
  15  2.7458582e+01 1.18e-07 1.86e-07  -5.7 1.48e-03    -  1.00e+00 1.00e+00h  1
  16  2.7458582e+01 3.33e-08 5.48e-08  -7.0 6.58e-04    -  1.00e+00 1.00e+00h  1

Number of Iterations....: 16

                                   (scaled)                 (unscaled)
Objective...............:   2.7458581653904741e+01    2.7458581653904741e+01
Dual infeasibility......:   5.4805375904187770e-08    5.4805375904187770e-08
Constraint violation....:   3.3345735062084714e-08    3.3345735062084714e-08
Variable bound violation:   0.0000000000000000e+00    0.0000000000000000e+00
Complementarity.........:   9.1561331102514748e-08    9.1561331102514748e-08
Overall NLP error.......:   9.1561331102514748e-08    9.1561331102514748e-08


Number of objective function evaluations             = 19
Number of objective gradient evaluations             = 17
Number of equality constraint evaluations            = 19
Number of inequality constraint evaluations          = 19
Number of equality constraint Jacobian evaluations   = 17
Number of inequality constraint Jacobian evaluations = 17
Number of Lagrangian Hessian evaluations             = 16
Total seconds in IPOPT                               = 2.626

EXIT: Optimal Solution Found.
      solver  :   t_proc      (avg)   t_wall      (avg)    n_eval
       nlp_f  |   4.60ms (242.05us)   4.64ms (243.95us)        19
       nlp_g  |  83.38ms (  4.39ms)  83.92ms (  4.42ms)        19
  nlp_grad_f  |   8.72ms (484.72us)   8.77ms (487.47us)        18
  nlp_hess_l  |   1.82 s (113.48ms)   1.83 s (114.15ms)        16
   nlp_jac_g  | 517.98ms ( 28.78ms) 521.22ms ( 28.96ms)        18
       total  |   2.61 s (  2.61 s)   2.63 s (  2.63 s)         1
  Success: True
  Cost: 27.4586
  Iterations: 16
  Solve time: 12.67 s
  Max obstacle slack: 0.0000e+00
  Min obstacle clearance: inf m
  Accepted: True

Accepted attempt: baseline

Generating plots...
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_trajectory.png
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_states.png
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_controls.png

Generating animation...
  Saved: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization/ipopt_single_stage_animation.gif

======================================================================
SUMMARY
======================================================================
Selected attempt: baseline
Attempt                    N      Subs   Clear    Iters    Time [s]   Cost [s]   Max Sigma    Min Clear [m]  Accepted
-----------------------------------------------------------------------------------------------------------------------------
baseline                   120    7      0.000    16       12.67      27.4586    0.000e+00    inf            True

All outputs saved to: /run/media/saveas/Secondary-Storage/Masters/CS234/CS234_Reinforcement_Learning/Final Project/CS234_Final_Project/results/trajectory_optimization
